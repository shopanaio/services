# Services Configuration
# This file is generated by Ansible for orchestrator service
# Multiple services run in a single process with in-memory communication

# Common vars for services
vars:
  # Environment for all services
  environment: {{ service_env | default('production') }}
  # Log level for all services
  log_level: {{ service_log_level | default('info') }}
  # Moleculer transporter for services broker
  moleculer_transporter: {{ moleculer_transporter }}
  # Platform GRPC (context) server
  platform_grpc_host: {{ platform_grpc_host }}

services:
  orchestrator:
    # Services included in orchestrator
    services:
      - apps
      - delivery
      - inventory
      - payments
      - pricing
    metrics_port: {{ orchestrator_metrics_port | default(3030) }}

  apps:
    admin_graphql_port: {{ apps_port }}
    database_url: "{{ apps_database_url }}"
    metrics_port: {{ apps_metrics_port | default(3033) }}

  delivery:
    port: {{ delivery_port }}

  inventory:
    port: {{ inventory_port }}

  payments:
    port: {{ payments_port }}

  pricing:
    port: {{ pricing_port }}
