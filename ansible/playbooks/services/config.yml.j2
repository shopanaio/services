# Services Configuration
# This file is generated by Ansible for {{ service_name }} service

# Common vars for services
vars:
  # Environment for all services
  environment: {{ service_env | default('production') }}
  # Log level for all services
  log_level: {{ service_log_level | default('info') }}
  # Moleculer transporter for services broker
  moleculer_transporter: {{ moleculer_transporter }}
  # Platform GRPC (context) server
  platform_grpc_host: {{ platform_grpc_host }}

services:
  {{ service_name }}:
    storefront_graphql_port: {{ service_port }}
    transporter: "{{ moleculer_transporter }}"
    database_url: "{{ service_database_url }}"
    metrics_port: {{ lookup('vars', service_name + '_metrics_port', default=3031) }}
