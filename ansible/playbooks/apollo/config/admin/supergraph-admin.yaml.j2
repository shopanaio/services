federation_version: 2
subgraphs:
  # Platform monolith (legacy - being migrated)
  platform:
    routing_url: {{ apollo_platform_admin_url }}
    schema:
      file: /schema/platform-admin-api.graphql

  # Platform microservices
  project:
    routing_url: {{ apollo_project_admin_url }}
    schema:
      file: /schema/project-admin-api.graphql

  media:
    routing_url: {{ apollo_media_admin_url }}
    schema:
      file: /schema/media-admin-api.graphql

  # Node.js microservices
  apps:
    routing_url: {{ apollo_apps_admin_url }}
    schema:
      file: /schema/apps-admin-api.graphql
