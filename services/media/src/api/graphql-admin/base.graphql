extend schema
  @link(
    url: "https://specs.apollo.dev/federation/v2.7"
    import: [
      "@key"
      "@requires"
      "@provides"
      "@external"
      "@shareable"
      "@override"
      "@inaccessible"
    ]
  )

scalar DateTime
scalar BigInt
scalar JSON
scalar Upload

extend type Query {
  mediaQuery: MediaQuery!
}

extend type Mutation {
  mediaMutation: MediaMutation!
}

type MediaQuery {
  """
  Get a node by its global ID
  """
  node(id: ID!): Node

  """
  Get multiple nodes by their global IDs
  """
  nodes(ids: [ID!]!): [Node]!

  """
  Get a file by ID
  """
  file(id: ID!): File
}

type MediaMutation {
  # Bucket mutations
  bucketCreate(input: BucketCreateInput!): BucketCreatePayload!

  # File mutations
  fileUpload(input: FileUploadMultipartInput!): FileUploadPayload!
  fileUploadFromUrl(input: FileUploadFromUrlInput!): FileUploadPayload!
  fileCreateExternal(
    input: FileCreateExternalInput!
  ): FileCreateExternalPayload!
  fileUpdate(input: FileUpdateInput!): FileUpdatePayload!
  fileDelete(input: FileDeleteInput!): FileDeletePayload!
}
