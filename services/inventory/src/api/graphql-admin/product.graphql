# ---- Product Types ----

"""
Product description in multiple formats.
"""
type Description {
  """Plain text description."""
  text: String!

  """HTML description."""
  html: String!

  """EditorJS JSON description."""
  json: JSON!
}

"""
Input for product description (all fields required).
"""
input DescriptionInput {
  """Plain text description."""
  text: String!

  """HTML description."""
  html: String!

  """EditorJS JSON description."""
  json: JSON!
}

"""
A product represents an item that can be sold.
"""
type Product implements Node @key(fields: "id") {
  """The globally unique ID of the product."""
  id: ID!

  """The date and time when the product was published, or null if unpublished."""
  publishedAt: DateTime

  """Whether the product is currently published."""
  isPublished: Boolean!

  """The date and time when the product was created."""
  createdAt: DateTime!

  """The date and time when the product was last updated."""
  updatedAt: DateTime!

  """The date and time when the product was deleted (soft delete)."""
  deletedAt: DateTime

  """The variants of this product."""
  variants(
    first: Int
    after: String
    last: Int
    before: String
  ): VariantConnection!

  """The options available for this product."""
  options: [ProductOption!]!

  """The features of this product."""
  features: [ProductFeature!]!

  """The total number of variants for this product."""
  variantsCount: Int!

  """Product title."""
  title: String!

  """Product description."""
  description: Description

  """Short excerpt."""
  excerpt: String

  """SEO title."""
  seoTitle: String

  """SEO description."""
  seoDescription: String
}

"""
A connection to a list of Product items.
"""
type ProductConnection {
  """A list of edges."""
  edges: [ProductEdge!]!

  """Information to aid in pagination."""
  pageInfo: PageInfo!

  """The total number of products."""
  totalCount: Int!
}

"""
An edge in a Product connection.
"""
type ProductEdge {
  """The item at the end of the edge."""
  node: Product!

  """A cursor for use in pagination."""
  cursor: String!
}

"""
Input for creating a feature during product creation.
"""
input ProductFeatureInput {
  """The URL-friendly slug for the feature."""
  slug: String!

  """Display name."""
  name: String!

  """The values for this feature."""
  values: [ProductFeatureValueCreateInput!]!
}

"""
Input for creating a product.
"""
input ProductCreateInput {
  """Product title."""
  title: String!

  """Product description."""
  description: DescriptionInput

  """Short excerpt."""
  excerpt: String

  """SEO title."""
  seoTitle: String

  """SEO description."""
  seoDescription: String

  """Initial variants to create with the product."""
  variants: [VariantInput!]

  """Initial options to create with the product."""
  options: [ProductOptionCreateInput!]

  """Initial features to create with the product."""
  features: [ProductFeatureInput!]

  """Whether to publish the product immediately."""
  publish: Boolean
}

"""
Input for updating a product.
"""
input ProductUpdateInput {
  """The product ID."""
  id: ID!

  """Product title."""
  title: String

  """Product description."""
  description: DescriptionInput

  """Short excerpt."""
  excerpt: String

  """SEO title."""
  seoTitle: String

  """SEO description."""
  seoDescription: String
}

"""
Payload for product update.
"""
type ProductUpdatePayload {
  """The updated product."""
  product: Product

  """List of errors that occurred during the mutation."""
  userErrors: [GenericUserError!]!
}

"""
Payload for product creation.
"""
type ProductCreatePayload {
  """The created product."""
  product: Product

  """List of errors that occurred during the mutation."""
  userErrors: [GenericUserError!]!
}

"""
Input for deleting a product.
"""
input ProductDeleteInput {
  """The ID of the product to delete."""
  id: ID!

  """Whether to permanently delete the product (hard delete)."""
  permanent: Boolean
}

"""
Payload for product deletion.
"""
type ProductDeletePayload {
  """The ID of the deleted product."""
  deletedProductId: ID

  """List of errors that occurred during the mutation."""
  userErrors: [GenericUserError!]!
}

"""
Input for publishing a product.
"""
input ProductPublishInput {
  """The ID of the product to publish."""
  id: ID!
}

"""
Payload for product publish.
"""
type ProductPublishPayload {
  """The published product."""
  product: Product

  """List of errors that occurred during the mutation."""
  userErrors: [GenericUserError!]!
}

"""
Input for unpublishing a product.
"""
input ProductUnpublishInput {
  """The ID of the product to unpublish."""
  id: ID!
}

"""
Payload for product unpublish.
"""
type ProductUnpublishPayload {
  """The unpublished product."""
  product: Product

  """List of errors that occurred during the mutation."""
  userErrors: [GenericUserError!]!
}

